apiVersion: pii.namjun.kim/v1alpha1
kind: PIIPolicy
metadata:
  name: default-policy
  namespace: pii-system
spec:
  selector:
    namespaces:
      - default
      - production
    excludeNamespaces:
      - kube-system
  patterns:
    builtIn:
      - email
      - credit-card
      - korean-rrn
      - phone-kr
      - ssn-us
      - aws-access-key
    custom:
      - name: custom-employee-id
        namespace: default
  actions:
    redact:
      enabled: true
    alert:
      enabled: true
      channels:
        - slack-alerts
    audit:
      enabled: true
      includeOriginal: false
  performance:
    samplingRate: 100
    maxLogSizeKB: 1024
    batchSize: 100
